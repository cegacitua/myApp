"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8530],{8530:(L,c,u)=>{u.r(c),u.d(c,{LoginPageModule:()=>P});var d=u(6814),r=u(285),o=u(1929),l=u(8573),p=u(5861),e=u(9212);let m=(()=>{var t;class i{setAuth(n){this.isAuth=n}constructor(n){this.router=n,this.isAuth=!1}canActivate(n,s){return!!this.isAuth||this.router.navigate(["/login"])}}return(t=i).\u0275fac=function(n){return new(n||t)(e.LFG(l.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),h=(()=>{var t;class i{setAuth(n){this.isAuth=n}constructor(n){this.router=n,this.isAuth=!1}canActivate(n,s){return!!this.isAuth||this.router.navigate(["/login"])}}return(t=i).\u0275fac=function(n){return new(n||t)(e.LFG(l.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();var f=u(641);const y=[{path:"",component:(()=>{var t;class i{login(){this.consumoapi.login(this.usuario.value.user,this.usuario.value.pass).subscribe(n=>{if(this.typeuser=n.body,console.log("bbb"+n.status),200==n.status){let s={state:{id:this.typeuser.id,user:this.typeuser.user,correo:this.typeuser.correo,nombre:this.typeuser.nombre,tipoPerfil:this.typeuser.tipoPerfil}};console.log("aaas"+this.typeuser.tipoPerfil),1===this.typeuser.tipoPerfil&&(this.authprofesor.setAuth(!0),this.router.navigate(["/home"],s)),2===this.typeuser.tipoPerfil&&(this.authalumno.setAuth(!0),this.router.navigate(["/perfilalumno"],s))}401===n.status&&this.presentAlert()},n=>{console.error("Error en inicio de sesi\xf3n:",n)})}presentAlert(){var n=this;return(0,p.Z)(function*(){yield(yield n.alertController.create({header:"Credenciales Incorrectas",subHeader:"(Intente nuevamente)",message:"Asegurese de ingresar correctamente sus datos.",buttons:["OK"]})).present()})()}constructor(n,s,g,A,x){this.authprofesor=n,this.authalumno=s,this.router=g,this.alertController=A,this.consumoapi=x,this.usuario=new r.cw({user:new r.NI("",[r.kI.required,r.kI.minLength(4),r.kI.maxLength(10)]),pass:new r.NI("",[r.kI.required,r.kI.minLength(5),r.kI.maxLength(20)]),mail:new r.NI("",[r.kI.required,r.kI.minLength(10),r.kI.maxLength(30)])})}ngOnInit(){}}return(t=i).\u0275fac=function(n){return new(n||t)(e.Y36(m),e.Y36(h),e.Y36(l.F0),e.Y36(o.Br),e.Y36(f.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:27,vars:6,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],["collapse","condense"],["size","large"],[3,"formGroup"],["lines","none"],["aria-hidden","true","slot","start"],["alt","","src","https://ionicframework.com/docs/img/demos/avatar.svg"],["label","Usuario","color","tertiary","labelPlacement","stacked","fill","outline","formControlName","user","placeholder","Ingrese Usuario","maxlength","10",1,"centered-input",3,"counter"],["aria-hidden","true","name","mail","slot","start"],["label","Correo","color","warning","labelPlacement","stacked","fill","outline","formControlName","mail","type","email","placeholder","email@domain.com","maxlength","30",1,"centered-input",3,"counter"],["aria-hidden","true","name","key","slot","start"],["label","Clave","color","dark","labelPlacement","stacked","fill","outline","formControlName","pass","type","password","value","password","placeholder","Ingrese clave","maxlength","20",1,"centered-input",3,"counter"],["shape","round","color","warning",3,"click"],["shape","round","color","medium"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Ingreso en el sistema RegistrApp"),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8,"login"),e.qZA()()(),e.TgZ(9,"ion-card")(10,"ion-card-content")(11,"form",4)(12,"ion-list")(13,"ion-item",5)(14,"ion-avatar",6),e._UZ(15,"img",7),e.qZA(),e._UZ(16,"ion-input",8),e.qZA(),e.TgZ(17,"ion-item",5),e._UZ(18,"ion-icon",9)(19,"ion-input",10),e.qZA(),e.TgZ(20,"ion-item",5),e._UZ(21,"ion-icon",11)(22,"ion-input",12),e.qZA(),e.TgZ(23,"ion-button",13),e.NdJ("click",function(){return s.login()}),e._uU(24,"Login"),e.qZA(),e.TgZ(25,"ion-button",14),e._uU(26,"Registrarse"),e.qZA()()()()()()),2&n&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(7),e.Q6J("formGroup",s.usuario),e.xp6(5),e.Q6J("counter",!0),e.xp6(3),e.Q6J("counter",!0),e.xp6(3),e.Q6J("counter",!0))},dependencies:[r._Y,r.JJ,r.JL,r.nD,r.sg,r.u,o.BJ,o.YG,o.PM,o.FN,o.W2,o.Gu,o.gu,o.pK,o.Ie,o.q_,o.wd,o.sr,o.j9],styles:["ion-card[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;margin-top:50px;padding:3px}ion-card-content[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;padding:3px}ion-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;margin:5px}ion-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:0;margin:4px}.centered-input[_ngcontent-%COMP%]{text-align:center}.centered-label[_ngcontent-%COMP%]{text-align:center;width:100%}ion-button[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;padding:3px}ion-avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0;margin:12px}ion-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0;margin:20px}.container[_ngcontent-%COMP%]{display:grid;flex-flow:column-reverse;flex-direction:column;justify-content:center;align-items:center;margin-top:50px;padding:3px}"]}),i})()}];let v=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(y),l.Bz]}),i})(),P=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,r.u5,r.UX,o.Pc,v]}),i})()}}]);