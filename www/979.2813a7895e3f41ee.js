"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[979],{2726:(le,Q,h)=>{h.d(Q,{Uw:()=>z,fo:()=>M,ur:()=>O,xz:()=>j});var d=h(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var O=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(O||{});class j extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const H=r=>{var e,n,s,l,i;const u=r.CapacitorCustomPlatform||null,a=r.Capacitor||{},v=a.Plugins=a.Plugins||{},f=r.CapacitorPlatforms,T=(null===(e=null==f?void 0:f.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==u?u.name:(r=>{var e,n;return null!=r&&r.androidBridge?"android":null!==(n=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(r)),ue=(null===(n=null==f?void 0:f.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==T()),fe=(null===(s=null==f?void 0:f.currentPlatform)||void 0===s?void 0:s.isPluginAvailable)||(m=>{const g=B.get(m);return!!(null!=g&&g.platforms.has(T())||se(m))}),se=(null===(l=null==f?void 0:f.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(m=>{var g;return null===(g=a.PluginHeaders)||void 0===g?void 0:g.find(R=>R.name===m)}),B=new Map,he=(null===(i=null==f?void 0:f.currentPlatform)||void 0===i?void 0:i.registerPlugin)||((m,g={})=>{const R=B.get(m);if(R)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),R.proxy;const k=T(),I=se(m);let L;const Pe=function(){var p=(0,d.Z)(function*(){return!L&&k in g?L=L="function"==typeof g[k]?yield g[k]():g[k]:null!==u&&!L&&"web"in g&&(L=L="function"==typeof g.web?yield g.web():g.web),L});return function(){return p.apply(this,arguments)}}(),ee=p=>{let b;const A=(...D)=>{const Z=Pe().then(E=>{const W=((p,b)=>{var A,D;if(!I){if(p)return null===(D=p[b])||void 0===D?void 0:D.bind(p);throw new j(`"${m}" plugin is not implemented on ${k}`,O.Unimplemented)}{const Z=null==I?void 0:I.methods.find(E=>b===E.name);if(Z)return"promise"===Z.rtype?E=>a.nativePromise(m,b.toString(),E):(E,W)=>a.nativeCallback(m,b.toString(),E,W);if(p)return null===(A=p[b])||void 0===A?void 0:A.bind(p)}})(E,p);if(W){const Y=W(...D);return b=null==Y?void 0:Y.remove,Y}throw new j(`"${m}.${p}()" is not implemented on ${k}`,O.Unimplemented)});return"addListener"===p&&(Z.remove=(0,d.Z)(function*(){return b()})),Z};return A.toString=()=>`${p.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:p,writable:!1,configurable:!1}),A},oe=ee("addListener"),ae=ee("removeListener"),Ce=(p,b)=>{const A=oe({eventName:p},b),D=function(){var E=(0,d.Z)(function*(){const W=yield A;ae({eventName:p,callbackId:W},b)});return function(){return E.apply(this,arguments)}}(),Z=new Promise(E=>A.then(()=>E({remove:D})));return Z.remove=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield D()}),Z},te=new Proxy({},{get(p,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?Ce:oe;case"removeListener":return ae;default:return ee(b)}}});return v[m]=te,B.set(m,{name:m,proxy:te,platforms:new Set([...Object.keys(g),...I?[k]:[]])}),te});return a.convertFileSrc||(a.convertFileSrc=m=>m),a.getPlatform=T,a.handleError=m=>r.console.error(m),a.isNativePlatform=ue,a.isPluginAvailable=fe,a.pluginMethodNoop=(m,g,R)=>Promise.reject(`${R} does not have an implementation of "${g}".`),a.registerPlugin=he,a.Exception=j,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},N=(r=>r.Capacitor=H(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),M=N.registerPlugin;class z{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){var s=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const u=function(){var v=(0,d.Z)(function*(){return s.removeListener(e,n)});return function(){return v.apply(this,arguments)}}(),a=Promise.resolve({remove:u});return Object.defineProperty(a,"remove",{value:(v=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield u()}),function(){return v.apply(this,arguments)})}),a;var v}removeAllListeners(){var e=this;return(0,d.Z)(function*(){e.listeners={};for(const n in e.windowListeners)e.removeWindowListener(e.windowListeners[n]);e.windowListeners={}})()}notifyListeners(e,n){const s=this.listeners[e];s&&s.forEach(l=>l(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new N.Exception(e,O.Unimplemented)}unavailable(e="not available"){return new N.Exception(e,O.Unavailable)}removeListener(e,n){var s=this;return(0,d.Z)(function*(){const l=s.listeners[e];if(!l)return;const i=l.indexOf(n);s.listeners[e].splice(i,1),s.listeners[e].length||s.removeWindowListener(s.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const t=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),C=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class w extends z{getCookies(){return(0,d.Z)(function*(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[l,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=C(l).trim(),i=C(i).trim(),n[l]=i}),n})()}setCookie(e){return(0,d.Z)(function*(){try{const n=t(e.key),s=t(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),u=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${l}; path=${i}; ${u};`}catch(n){return Promise.reject(n)}})()}deleteCookie(e){return(0,d.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,d.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.Z)(function*(){try{yield e.clearCookies()}catch(n){return Promise.reject(n)}})()}}M("CapacitorCookies",{web:()=>new w});const y=function(){var r=(0,d.Z)(function*(e){return new Promise((n,s)=>{const l=new FileReader;l.onload=()=>{const i=l.result;n(i.indexOf(",")>=0?i.split(",")[1]:i)},l.onerror=i=>s(i),l.readAsDataURL(e)})});return function(n){return r.apply(this,arguments)}}();class K extends z{request(e){return(0,d.Z)(function*(){const n=((r,e={})=>{const n=Object.assign({method:r.method||"GET",headers:r.headers},e),l=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(l=>l.toLocaleLowerCase()).reduce((l,i,u)=>(l[i]=r[e[u]],l),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)n.body=r.data;else if(l.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[u,a]of Object.entries(r.data||{}))i.set(u,a);n.body=i.toString()}else if(l.includes("multipart/form-data")||r.data instanceof FormData){const i=new FormData;if(r.data instanceof FormData)r.data.forEach((a,v)=>{i.append(v,a)});else for(const a of Object.keys(r.data))i.append(a,r.data[a]);n.body=i;const u=new Headers(n.headers);u.delete("content-type"),n.headers=u}else(l.includes("application/json")||"object"==typeof r.data)&&(n.body=JSON.stringify(r.data));return n})(e,e.webFetchExtra),s=((r,e=!0)=>r?Object.entries(r).reduce((s,l)=>{const[i,u]=l;let a,v;return Array.isArray(u)?(v="",u.forEach(f=>{a=e?encodeURIComponent(f):f,v+=`${i}=${a}&`}),v.slice(0,-1)):(a=e?encodeURIComponent(u):u,v=`${i}=${a}`),`${s}&${v}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=s?`${e.url}?${s}`:e.url,i=yield fetch(l,n),u=i.headers.get("content-type")||"";let v,f,{responseType:a="text"}=i.ok?e:{};switch(u.includes("application/json")&&(a="json"),a){case"arraybuffer":case"blob":f=yield i.blob(),v=yield y(f);break;case"json":v=yield i.json();break;default:v=yield i.text()}const S={};return i.headers.forEach((T,V)=>{S[V]=T}),{data:v,headers:S,status:i.status,url:i.url}})()}get(e){var n=this;return(0,d.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var n=this;return(0,d.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var n=this;return(0,d.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var n=this;return(0,d.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var n=this;return(0,d.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}M("CapacitorHttp",{web:()=>new K})},979:(le,Q,h)=>{h.r(Q),h.d(Q,{CameraPageModule:()=>ie});var d=h(6814),G=h(95),P=h(1929),x=h(1147),J=h(5861),ne=h(2726),F=function(t){return t.Aztec="AZTEC",t.Codabar="CODABAR",t.Code39="CODE_39",t.Code93="CODE_93",t.Code128="CODE_128",t.DataMatrix="DATA_MATRIX",t.Ean8="EAN_8",t.Ean13="EAN_13",t.Itf="ITF",t.Pdf417="PDF_417",t.QrCode="QR_CODE",t.UpcA="UPC_A",t.UpcE="UPC_E",t}(F||{});const H=(0,ne.fo)("BarcodeScanner",{web:()=>h.e(7338).then(h.bind(h,7338)).then(t=>new t.BarcodeScannerWeb)});var o=h(9212),N=h(641);function M(t,C){if(1&t&&(o.TgZ(0,"ion-item")(1,"ion-label",8),o._uU(2),o.qZA(),o._UZ(3,"ion-input",9),o.qZA()),2&t){const w=C.$implicit;o.xp6(2),o.Oqu(w.format),o.xp6(1),o.Q6J("value",w.rawValue)}}const re=[{path:"",component:(()=>{var t;class C{constructor(c,y,U,$){this.alertController=c,this.activeroute=y,this.router=U,this.apiService=$,this.nombre="",this.boton=["Cerrar Sesi\xf3n"],this.isSupported=!1,this.barcodes=[],this.activeroute.queryParams.subscribe(q=>{var K,_,r;null!==(K=this.router.getCurrentNavigation())&&void 0!==K&&K.extras.state&&(this.userHome=null===(_=this.router.getCurrentNavigation())||void 0===_||null===(_=_.extras.state)||void 0===_?void 0:_.user,this.idAlumno=null===(r=this.router.getCurrentNavigation())||void 0===r||null===(r=r.extras.state)||void 0===r?void 0:r.id)})}ngOnInit(){H.isSupported().then(c=>{this.isSupported=c.supported})}scan(){var c=this;return(0,J.Z)(function*(){if(!(yield c.requestPermissions()))return void c.presentAlert();const{barcodes:U}=yield H.scan({formats:[F.QrCode]});c.barcodes.push(...U)})()}requestPermissions(){return(0,J.Z)(function*(){const{camera:c}=yield H.requestPermissions();return"granted"===c||"limited"===c})()}presentAlert(){var c=this;return(0,J.Z)(function*(){yield(yield c.alertController.create({header:"Permiso de C\xe1mara",message:"Se necesita acceso a la c\xe1mara para escanear c\xf3digos QR. Por favor, habilite el acceso a la c\xe1mara en la configuraci\xf3n de su dispositivo.",buttons:["OK"]})).present()})()}registrarAsistencia(c,y,U){this.apiService.registrarAsistencia({alumno_id:this.idAlumno,codigo:c,seccion:y,fecha:U}).subscribe(q=>{console.log(q)})}}return(t=C).\u0275fac=function(c){return new(c||t)(o.Y36(P.Br),o.Y36(x.gz),o.Y36(x.F0),o.Y36(N.e))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-camera"]],decls:15,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"disabled","click"],["name","scan"],["position","stacked"],["type","text",3,"value"]],template:function(c,y){1&c&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"Escanear QR"),o.qZA()()(),o.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),o._uU(8,"Escanear QR"),o.qZA()()(),o.TgZ(9,"ion-list"),o.YNc(10,M,4,2,"ion-item",4),o.qZA(),o.TgZ(11,"ion-fab",5)(12,"ion-fab-button",6),o.NdJ("click",function(){return y.scan()}),o._UZ(13,"ion-icon",7),o.qZA()(),o._UZ(14,"ion-content"),o.qZA()),2&c&&(o.Q6J("translucent",!0),o.xp6(4),o.Q6J("fullscreen",!0),o.xp6(6),o.Q6J("ngForOf",y.barcodes),o.xp6(2),o.Q6J("disabled",!y.isSupported))},dependencies:[d.sg,P.W2,P.IJ,P.W4,P.Gu,P.gu,P.pK,P.Ie,P.Q$,P.q_,P.wd,P.sr,P.j9],styles:[".image-container[_ngcontent-%COMP%]{background:url(https://d347bo4ltvvnaz.cloudfront.net/images/preview/Fuse_LifeOnMission_MarketingAssets_Social-Overlay_Transparent_3_preview.jpg) no-repeat center center fixed;position:relative;background-size:contain;background-position:center;height:100vh;width:auto;display:flex;align-items:flex-end;justify-content:center;padding-bottom:10vh}.overlay-button[_ngcontent-%COMP%]{position:relative;size:auto;margin:10 auto;display:flex}"]}),C})()}];let z=(()=>{var t;class C{}return(t=C).\u0275fac=function(c){return new(c||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[x.Bz.forChild(re),x.Bz]}),C})(),ie=(()=>{var t;class C{}return(t=C).\u0275fac=function(c){return new(c||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[d.ez,G.u5,P.Pc,z]}),C})()}}]);