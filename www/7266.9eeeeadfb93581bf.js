"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7266],{5961:(le,G,A)=>{A.d(G,{GW:()=>z,oK:()=>b});var b=function(E){return E.Prompt="PROMPT",E.Camera="CAMERA",E.Photos="PHOTOS",E}(b||{}),z=function(E){return E.Rear="REAR",E.Front="FRONT",E}(z||{})},2726:(le,G,A)=>{A.d(G,{Uw:()=>K,fo:()=>Y,xz:()=>w});var b=A(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var O=function(s){return s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE",s}(O||{});class w extends Error{constructor(i,o,d){super(i),this.message=i,this.code=o,this.data=d}}const re=s=>{var i,o,d,g,u;const y=s.CapacitorCustomPlatform||null,v=s.Capacitor||{},L=v.Plugins=v.Plugins||{},C=s.CapacitorPlatforms,F=(null===(i=null==C?void 0:C.currentPlatform)||void 0===i?void 0:i.getPlatform)||(()=>null!==y?y.name:(s=>{var i,o;return null!=s&&s.androidBridge?"android":null!==(o=null===(i=null==s?void 0:s.webkit)||void 0===i?void 0:i.messageHandlers)&&void 0!==o&&o.bridge?"ios":"web"})(s)),ie=(null===(o=null==C?void 0:C.currentPlatform)||void 0===o?void 0:o.isNativePlatform)||(()=>"web"!==F()),oe=(null===(d=null==C?void 0:C.currentPlatform)||void 0===d?void 0:d.isPluginAvailable)||(c=>{const l=t.get(c);return!!(null!=l&&l.platforms.has(F())||ne(c))}),ne=(null===(g=null==C?void 0:C.currentPlatform)||void 0===g?void 0:g.getPluginHeader)||(c=>{var l;return null===(l=v.PluginHeaders)||void 0===l?void 0:l.find(m=>m.name===c)}),t=new Map,a=(null===(u=null==C?void 0:C.currentPlatform)||void 0===u?void 0:u.registerPlugin)||((c,l={})=>{const m=t.get(c);if(m)return console.warn(`Capacitor plugin "${c}" already registered. Cannot register plugins twice.`),m.proxy;const P=F(),p=ne(c);let f;const h=function(){var x=(0,b.Z)(function*(){return!f&&P in l?f=f="function"==typeof l[P]?yield l[P]():l[P]:null!==y&&!f&&"web"in l&&(f=f="function"==typeof l.web?yield l.web():l.web),f});return function(){return x.apply(this,arguments)}}(),se=x=>{let S;const M=(...Z)=>{const W=h().then(R=>{const H=((x,S)=>{var M,Z;if(!p){if(x)return null===(Z=x[S])||void 0===Z?void 0:Z.bind(x);throw new w(`"${c}" plugin is not implemented on ${P}`,O.Unimplemented)}{const W=null==p?void 0:p.methods.find(R=>S===R.name);if(W)return"promise"===W.rtype?R=>v.nativePromise(c,S.toString(),R):(R,H)=>v.nativeCallback(c,S.toString(),R,H);if(x)return null===(M=x[S])||void 0===M?void 0:M.bind(x)}})(R,x);if(H){const te=H(...Z);return S=null==te?void 0:te.remove,te}throw new w(`"${c}.${x}()" is not implemented on ${P}`,O.Unimplemented)});return"addListener"===x&&(W.remove=(0,b.Z)(function*(){return S()})),W};return M.toString=()=>`${x.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:x,writable:!1,configurable:!1}),M},pe=se("addListener"),we=se("removeListener"),ye=(x,S)=>{const M=pe({eventName:x},S),Z=function(){var R=(0,b.Z)(function*(){const H=yield M;we({eventName:x,callbackId:H},S)});return function(){return R.apply(this,arguments)}}(),W=new Promise(R=>M.then(()=>R({remove:Z})));return W.remove=(0,b.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Z()}),W},ce=new Proxy({},{get(x,S){switch(S){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return p?ye:pe;case"removeListener":return we;default:return se(S)}}});return L[c]=ce,t.set(c,{name:c,proxy:ce,platforms:new Set([...Object.keys(l),...p?[P]:[]])}),ce});return v.convertFileSrc||(v.convertFileSrc=c=>c),v.getPlatform=F,v.handleError=c=>s.console.error(c),v.isNativePlatform=ie,v.isPluginAvailable=oe,v.pluginMethodNoop=(c,l,m)=>Promise.reject(`${m} does not have an implementation of "${l}".`),v.registerPlugin=a,v.Exception=w,v.DEBUG=!!v.DEBUG,v.isLoggingEnabled=!!v.isLoggingEnabled,v.platform=v.getPlatform(),v.isNative=v.isNativePlatform(),v},B=(s=>s.Capacitor=re(s))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Y=B.registerPlugin;class K{constructor(i){this.listeners={},this.windowListeners={},i&&(console.warn(`Capacitor WebPlugin "${i.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=i)}addListener(i,o){var d=this;this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(o);const u=this.windowListeners[i];u&&!u.registered&&this.addWindowListener(u);const y=function(){var L=(0,b.Z)(function*(){return d.removeListener(i,o)});return function(){return L.apply(this,arguments)}}(),v=Promise.resolve({remove:y});return Object.defineProperty(v,"remove",{value:(L=(0,b.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield y()}),function(){return L.apply(this,arguments)})}),v;var L}removeAllListeners(){var i=this;return(0,b.Z)(function*(){i.listeners={};for(const o in i.windowListeners)i.removeWindowListener(i.windowListeners[o]);i.windowListeners={}})()}notifyListeners(i,o){const d=this.listeners[i];d&&d.forEach(g=>g(o))}hasListeners(i){return!!this.listeners[i].length}registerWindowListener(i,o){this.windowListeners[o]={registered:!1,windowEventName:i,pluginEventName:o,handler:d=>{this.notifyListeners(o,d)}}}unimplemented(i="not implemented"){return new B.Exception(i,O.Unimplemented)}unavailable(i="not available"){return new B.Exception(i,O.Unavailable)}removeListener(i,o){var d=this;return(0,b.Z)(function*(){const g=d.listeners[i];if(!g)return;const u=g.indexOf(o);d.listeners[i].splice(u,1),d.listeners[i].length||d.removeWindowListener(d.windowListeners[i])})()}addWindowListener(i){window.addEventListener(i.windowEventName,i.handler),i.registered=!0}removeWindowListener(i){i&&(window.removeEventListener(i.windowEventName,i.handler),i.registered=!1)}}const V=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),X=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class q extends K{getCookies(){return(0,b.Z)(function*(){const i=document.cookie,o={};return i.split(";").forEach(d=>{if(d.length<=0)return;let[g,u]=d.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");g=X(g).trim(),u=X(u).trim(),o[g]=u}),o})()}setCookie(i){return(0,b.Z)(function*(){try{const o=V(i.key),d=V(i.value),g=`; expires=${(i.expires||"").replace("expires=","")}`,u=(i.path||"/").replace("path=",""),y=null!=i.url&&i.url.length>0?`domain=${i.url}`:"";document.cookie=`${o}=${d||""}${g}; path=${u}; ${y};`}catch(o){return Promise.reject(o)}})()}deleteCookie(i){return(0,b.Z)(function*(){try{document.cookie=`${i.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}})()}clearCookies(){return(0,b.Z)(function*(){try{const i=document.cookie.split(";")||[];for(const o of i)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(i){return Promise.reject(i)}})()}clearAllCookies(){var i=this;return(0,b.Z)(function*(){try{yield i.clearCookies()}catch(o){return Promise.reject(o)}})()}}Y("CapacitorCookies",{web:()=>new q});const j=function(){var s=(0,b.Z)(function*(i){return new Promise((o,d)=>{const g=new FileReader;g.onload=()=>{const u=g.result;o(u.indexOf(",")>=0?u.split(",")[1]:u)},g.onerror=u=>d(u),g.readAsDataURL(i)})});return function(o){return s.apply(this,arguments)}}();class ee extends K{request(i){return(0,b.Z)(function*(){const o=((s,i={})=>{const o=Object.assign({method:s.method||"GET",headers:s.headers},i),g=((s={})=>{const i=Object.keys(s);return Object.keys(s).map(g=>g.toLocaleLowerCase()).reduce((g,u,y)=>(g[u]=s[i[y]],g),{})})(s.headers)["content-type"]||"";if("string"==typeof s.data)o.body=s.data;else if(g.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[y,v]of Object.entries(s.data||{}))u.set(y,v);o.body=u.toString()}else if(g.includes("multipart/form-data")||s.data instanceof FormData){const u=new FormData;if(s.data instanceof FormData)s.data.forEach((v,L)=>{u.append(L,v)});else for(const v of Object.keys(s.data))u.append(v,s.data[v]);o.body=u;const y=new Headers(o.headers);y.delete("content-type"),o.headers=y}else(g.includes("application/json")||"object"==typeof s.data)&&(o.body=JSON.stringify(s.data));return o})(i,i.webFetchExtra),d=((s,i=!0)=>s?Object.entries(s).reduce((d,g)=>{const[u,y]=g;let v,L;return Array.isArray(y)?(L="",y.forEach(C=>{v=i?encodeURIComponent(C):C,L+=`${u}=${v}&`}),L.slice(0,-1)):(v=i?encodeURIComponent(y):y,L=`${u}=${v}`),`${d}&${L}`},"").substr(1):null)(i.params,i.shouldEncodeUrlParams),g=d?`${i.url}?${d}`:i.url,u=yield fetch(g,o),y=u.headers.get("content-type")||"";let L,C,{responseType:v="text"}=u.ok?i:{};switch(y.includes("application/json")&&(v="json"),v){case"arraybuffer":case"blob":C=yield u.blob(),L=yield j(C);break;case"json":L=yield u.json();break;default:L=yield u.text()}const N={};return u.headers.forEach((F,D)=>{N[D]=F}),{data:L,headers:N,status:u.status,url:u.url}})()}get(i){var o=this;return(0,b.Z)(function*(){return o.request(Object.assign(Object.assign({},i),{method:"GET"}))})()}post(i){var o=this;return(0,b.Z)(function*(){return o.request(Object.assign(Object.assign({},i),{method:"POST"}))})()}put(i){var o=this;return(0,b.Z)(function*(){return o.request(Object.assign(Object.assign({},i),{method:"PUT"}))})()}patch(i){var o=this;return(0,b.Z)(function*(){return o.request(Object.assign(Object.assign({},i),{method:"PATCH"}))})()}delete(i){var o=this;return(0,b.Z)(function*(){return o.request(Object.assign(Object.assign({},i),{method:"DELETE"}))})()}}Y("CapacitorHttp",{web:()=>new ee})},7266:(le,G,A)=>{A.r(G),A.d(G,{CameraPageModule:()=>ne});var b=A(6814),z=A(95),I=A(1929),E=A(1147),J=A(5861),ue=A(2726);A(5961);const O=(0,ue.fo)("Camera",{web:()=>A.e(6468).then(A.bind(A,6468)).then(e=>new e.CameraWeb)});var w=A(9212),Q=A(7582),fe=A(5592),B=A(2438),Y={error:"cordova_not_available"},ve={error:"plugin_not_installed"};function $(e){if(typeof window<"u"&&window.angular){var t=window.document,r=window.angular.element(t.querySelector("[ng-app]")||t.body).injector();if(r)return r.get("$q")(function(c,l){e(c,l)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(c,l){e(c,l)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function q(e,n,t){var r,a;"string"==typeof e?r=e:(r=e.constructor.getPluginRef(),t=e.constructor.getPluginName(),a=e.constructor.getPluginInstallName());var c=_(r);return!(!c||n&&typeof c[n]>"u")||(typeof window>"u"||!window.cordova?(function s(e,n){typeof process>"u"&&console.warn(n?"Native: tried calling "+e+"."+n+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(t,n),Y):(function he(e,n,t){console.warn(t?"Native: tried calling "+e+"."+t+", but the "+e+" plugin is not installed.":"Native: tried accessing the "+e+" plugin but it's not installed."),n&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+n+"'")}(t,a,n),ve))}function U(e,n,t,r,a,c){void 0===r&&(r={}),t=function j(e,n,t,r){if(void 0===n&&(n={}),n.sync)return e;if("reverse"===n.callbackOrder)e.unshift(r),e.unshift(t);else if("node"===n.callbackStyle)e.push(function(m,P){m?r(m):t(P)});else if("object"===n.callbackStyle&&n.successName&&n.errorName){var a={};a[n.successName]=t,a[n.errorName]=r,e.push(a)}else if(typeof n.successIndex<"u"||typeof n.errorIndex<"u"){var c=function(){n.successIndex>e.length?e[n.successIndex]=t:e.splice(n.successIndex,0,t)},l=function(){n.errorIndex>e.length?e[n.errorIndex]=r:e.splice(n.errorIndex,0,r)};n.successIndex>n.errorIndex?(l(),c()):(c(),l())}else e.push(t),e.push(r);return e}(t,r,a,c);var l=q(e,n);if(!0===l){var m=_(e.constructor.getPluginRef());return m[n].apply(m,t)}return l}function _(e){return typeof window<"u"?ee(window,e):null}function ee(e,n){for(var t=n.split("."),r=e,a=0;a<t.length;a++){if(!r)return null;r=r[t[a]]}return r}var u=function(){function e(){}return e.installed=function(){return!0===q(this.pluginRef)},e.getPlugin=function(){return typeof window<"u"?function d(e,n){for(var t=n.split("."),r=e,a=0;a<t.length;a++){if(!r)return null;r=r[t[a]]}return r}(window,this.pluginRef):null},e.getPluginName=function(){return this.pluginName},e.getPluginRef=function(){return this.pluginRef},e.getPluginInstallName=function(){return this.plugin},e.getSupportedPlatforms=function(){return this.platforms},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function y(e,n,t,r){return function(e,n,t){return void 0===t&&(t={}),function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t.sync?U(e,n,r,t):t.observable?function V(e,n,t,r){return void 0===r&&(r={}),new fe.y(function(a){var c;return c=r.destruct?U(e,n,t,r,function(){for(var l=[],m=0;m<arguments.length;m++)l[m]=arguments[m];return a.next(l)},function(){for(var l=[],m=0;m<arguments.length;m++)l[m]=arguments[m];return a.error(l)}):U(e,n,t,r,a.next.bind(a),a.error.bind(a)),c&&c.error&&(a.error(c.error),a.complete()),function(){try{if(r.clearFunction)return r.clearWithArgs?U(e,r.clearFunction,t,r,a.next.bind(a),a.error.bind(a)):U(e,r.clearFunction,[])}catch(l){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),n),console.warn(l)}}})}(e,n,r,t):t.eventObservable&&t.event?function X(e,n){return n=typeof window<"u"&&n?ee(window,n):n||(typeof window<"u"?window:{}),(0,B.R)(n,e)}(t.event,t.element):t.otherPromise?function ge(e,n,t,r){return void 0===r&&(r={}),$(function(a,c){var l=U(e,n,t,r);l?l.error?c(l.error):l.then&&l.then(a).catch(c):c({error:"unexpected_error"})})}(e,n,r,t):function K(e,n,t,r){void 0===r&&(r={});var a,c,l=$(function(m,P){a=r.destruct?U(e,n,t,r,function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];return m(p)},function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];return P(p)}):U(e,n,t,r,m,P),c=P});return a&&a.error&&(l.catch(function(){}),"function"==typeof c&&c(a.error)),l}(e,n,r,t)}}(e,n,t).apply(this,r)}!function re(){if(typeof process>"u"){var e=typeof window<"u"?window:{},t=Date.now(),r=!1;e.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),r=!0}),setTimeout(function(){!r&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var D=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.Encode={TEXT_TYPE:"TEXT_TYPE",EMAIL_TYPE:"EMAIL_TYPE",PHONE_TYPE:"PHONE_TYPE",SMS_TYPE:"SMS_TYPE"},t}return(0,Q.ZT)(n,e),n.prototype.scan=function(t){return y(this,"scan",{callbackOrder:"reverse"},arguments)},n.prototype.encode=function(t,r){return y(this,"encode",{},arguments)},n.\u0275fac=(()=>{let t;return function(a){return(t||(t=w.n5z(n)))(a||n)}})(),n.\u0275prov=w.Yz7({token:n,factory:n.\u0275fac}),n.pluginName="BarcodeScanner",n.plugin="phonegap-plugin-barcodescanner",n.pluginRef="cordova.plugins.barcodeScanner",n.repo="https://github.com/phonegap/phonegap-plugin-barcodescanner",n.platforms=["Android","BlackBerry 10","Browser","iOS","Windows"],n=(0,Q.gn)([],n)}(u),ie=A(641);const oe=[{path:"",component:(()=>{var e;class n{constructor(r,a,c,l,m){this.barcodeScanner=r,this.activeroute=a,this.router=c,this.apiService=l,this.alertController=m,this.nombre="",this.boton=["Cerrar Sesi\xf3n"],this.activeroute.queryParams.subscribe(P=>{var p,f,h;null!==(p=this.router.getCurrentNavigation())&&void 0!==p&&p.extras.state&&(this.userHome=null===(f=this.router.getCurrentNavigation())||void 0===f||null===(f=f.extras.state)||void 0===f?void 0:f.user,this.idAlumno=null===(h=this.router.getCurrentNavigation())||void 0===h||null===(h=h.extras.state)||void 0===h?void 0:h.id)})}ngOnInit(){this.requestCameraPermission()}requestCameraPermission(){var r=this;return(0,J.Z)(function*(){console.log("requestCameraPermission was called"),"granted"!==(yield O.checkPermissions()).camera&&(yield O.requestPermissions()),r.startScanner()})()}startScanner(){var r=this;return(0,J.Z)(function*(){console.log("startScanner was called"),r.barcodeScanner.scan().then(a=>{console.log("Scanned something",a.text);const[c,l,m]=a.text.split("-");r.registrarAsistencia(c,l,m)}).catch(a=>{console.log("Error:",a)})})()}showSettingsAlert(){var r=this;return(0,J.Z)(function*(){yield(yield r.alertController.create({header:"Permiso de C\xe1mara",message:"Se necesita acceso a la c\xe1mara para escanear c\xf3digos QR. Por favor, habilite el acceso a la c\xe1mara en la configuraci\xf3n de su dispositivo.",buttons:["OK"]})).present()})()}registrarAsistencia(r,a,c){this.apiService.registrarAsistencia({alumno_id:this.idAlumno,codigo:r,seccion:a,fecha:c}).subscribe(m=>{console.log(m)})}}return(e=n).\u0275fac=function(r){return new(r||e)(w.Y36(D),w.Y36(E.gz),w.Y36(E.F0),w.Y36(ie.e),w.Y36(I.Br))},e.\u0275cmp=w.Xpm({type:e,selectors:[["app-camera"]],decls:11,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["expand","full",3,"click"]],template:function(r,a){1&r&&(w.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),w._uU(3,"Escanear QR"),w.qZA()()(),w.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),w._uU(8,"Escanear QR"),w.qZA()()(),w.TgZ(9,"ion-button",4),w.NdJ("click",function(){return a.startScanner()}),w._uU(10," Iniciar esc\xe1ner de c\xf3digos QR "),w.qZA()()),2&r&&(w.Q6J("translucent",!0),w.xp6(4),w.Q6J("fullscreen",!0))},dependencies:[I.YG,I.W2,I.Gu,I.wd,I.sr],styles:[".image-container[_ngcontent-%COMP%]{background:url(https://d347bo4ltvvnaz.cloudfront.net/images/preview/Fuse_LifeOnMission_MarketingAssets_Social-Overlay_Transparent_3_preview.jpg) no-repeat center center fixed;position:relative;background-size:contain;background-position:center;height:100vh;width:auto;display:flex;align-items:flex-end;justify-content:center;padding-bottom:10vh}.overlay-button[_ngcontent-%COMP%]{position:relative;size:auto;margin:10 auto;display:flex}"]}),n})()}];let ae=(()=>{var e;class n{}return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({imports:[E.Bz.forChild(oe),E.Bz]}),n})(),ne=(()=>{var e;class n{}return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=w.oAB({type:e}),e.\u0275inj=w.cJS({providers:[D],imports:[b.ez,z.u5,I.Pc,ae]}),n})()}}]);