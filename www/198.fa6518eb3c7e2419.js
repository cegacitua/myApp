"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[198],{5961:(ue,G,S)=>{S.d(G,{GW:()=>$,oK:()=>y});var y=function(A){return A.Prompt="PROMPT",A.Camera="CAMERA",A.Photos="PHOTOS",A}(y||{}),$=function(A){return A.Rear="REAR",A.Front="FRONT",A}($||{})},2726:(ue,G,S)=>{S.d(G,{Uw:()=>K,dV:()=>M,fo:()=>D,xz:()=>b});var y=S(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Z=function(s){return s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE",s}(Z||{});class b extends Error{constructor(r,o,d){super(r),this.message=r,this.code=o,this.data=d}}const ie=s=>{var r,o,d,v,u;const m=s.CapacitorCustomPlatform||null,g=s.Capacitor||{},L=g.Plugins=g.Plugins||{},C=s.CapacitorPlatforms,B=(null===(r=null==C?void 0:C.currentPlatform)||void 0===r?void 0:r.getPlatform)||(()=>null!==m?m.name:(s=>{var r,o;return null!=s&&s.androidBridge?"android":null!==(o=null===(r=null==s?void 0:s.webkit)||void 0===r?void 0:r.messageHandlers)&&void 0!==o&&o.bridge?"ios":"web"})(s)),oe=(null===(o=null==C?void 0:C.currentPlatform)||void 0===o?void 0:o.isNativePlatform)||(()=>"web"!==B()),ae=(null===(d=null==C?void 0:C.currentPlatform)||void 0===d?void 0:d.isPluginAvailable)||(c=>{const l=i.get(c);return!!(null!=l&&l.platforms.has(B())||ee(c))}),ee=(null===(v=null==C?void 0:C.currentPlatform)||void 0===v?void 0:v.getPluginHeader)||(c=>{var l;return null===(l=g.PluginHeaders)||void 0===l?void 0:l.find(p=>p.name===c)}),i=new Map,a=(null===(u=null==C?void 0:C.currentPlatform)||void 0===u?void 0:u.registerPlugin)||((c,l={})=>{const p=i.get(c);if(p)return console.warn(`Capacitor plugin "${c}" already registered. Cannot register plugins twice.`),p.proxy;const h=B(),w=ee(c);let f;const P=function(){var x=(0,y.Z)(function*(){return!f&&h in l?f=f="function"==typeof l[h]?yield l[h]():l[h]:null!==m&&!f&&"web"in l&&(f=f="function"==typeof l.web?yield l.web():l.web),f});return function(){return x.apply(this,arguments)}}(),ce=x=>{let R;const T=(...W)=>{const F=P().then(I=>{const H=((x,R)=>{var T,W;if(!w){if(x)return null===(W=x[R])||void 0===W?void 0:W.bind(x);throw new b(`"${c}" plugin is not implemented on ${h}`,Z.Unimplemented)}{const F=null==w?void 0:w.methods.find(I=>R===I.name);if(F)return"promise"===F.rtype?I=>g.nativePromise(c,R.toString(),I):(I,H)=>g.nativeCallback(c,R.toString(),I,H);if(x)return null===(T=x[R])||void 0===T?void 0:T.bind(x)}})(I,x);if(H){const ne=H(...W);return R=null==ne?void 0:ne.remove,ne}throw new b(`"${c}.${x}()" is not implemented on ${h}`,Z.Unimplemented)});return"addListener"===x&&(F.remove=(0,y.Z)(function*(){return R()})),F};return T.toString=()=>`${x.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:x,writable:!1,configurable:!1}),T},Pe=ce("addListener"),we=ce("removeListener"),ye=(x,R)=>{const T=Pe({eventName:x},R),W=function(){var I=(0,y.Z)(function*(){const H=yield T;we({eventName:x,callbackId:H},R)});return function(){return I.apply(this,arguments)}}(),F=new Promise(I=>T.then(()=>I({remove:W})));return F.remove=(0,y.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield W()}),F},le=new Proxy({},{get(x,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?ye:Pe;case"removeListener":return we;default:return ce(R)}}});return L[c]=le,i.set(c,{name:c,proxy:le,platforms:new Set([...Object.keys(l),...w?[h]:[]])}),le});return g.convertFileSrc||(g.convertFileSrc=c=>c),g.getPlatform=B,g.handleError=c=>s.console.error(c),g.isNativePlatform=oe,g.isPluginAvailable=ae,g.pluginMethodNoop=(c,l,p)=>Promise.reject(`${p} does not have an implementation of "${l}".`),g.registerPlugin=a,g.Exception=b,g.DEBUG=!!g.DEBUG,g.isLoggingEnabled=!!g.isLoggingEnabled,g.platform=g.getPlatform(),g.isNative=g.isNativePlatform(),g},M=(s=>s.Capacitor=ie(s))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),D=M.registerPlugin;class K{constructor(r){this.listeners={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,o){var d=this;this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(o);const u=this.windowListeners[r];u&&!u.registered&&this.addWindowListener(u);const m=function(){var L=(0,y.Z)(function*(){return d.removeListener(r,o)});return function(){return L.apply(this,arguments)}}(),g=Promise.resolve({remove:m});return Object.defineProperty(g,"remove",{value:(L=(0,y.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield m()}),function(){return L.apply(this,arguments)})}),g;var L}removeAllListeners(){var r=this;return(0,y.Z)(function*(){r.listeners={};for(const o in r.windowListeners)r.removeWindowListener(r.windowListeners[o]);r.windowListeners={}})()}notifyListeners(r,o){const d=this.listeners[r];d&&d.forEach(v=>v(o))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,o){this.windowListeners[o]={registered:!1,windowEventName:r,pluginEventName:o,handler:d=>{this.notifyListeners(o,d)}}}unimplemented(r="not implemented"){return new M.Exception(r,Z.Unimplemented)}unavailable(r="not available"){return new M.Exception(r,Z.Unavailable)}removeListener(r,o){var d=this;return(0,y.Z)(function*(){const v=d.listeners[r];if(!v)return;const u=v.indexOf(o);d.listeners[r].splice(u,1),d.listeners[r].length||d.removeWindowListener(d.windowListeners[r])})()}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}}const J=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),N=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Y extends K{getCookies(){return(0,y.Z)(function*(){const r=document.cookie,o={};return r.split(";").forEach(d=>{if(d.length<=0)return;let[v,u]=d.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");v=N(v).trim(),u=N(u).trim(),o[v]=u}),o})()}setCookie(r){return(0,y.Z)(function*(){try{const o=J(r.key),d=J(r.value),v=`; expires=${(r.expires||"").replace("expires=","")}`,u=(r.path||"/").replace("path=",""),m=null!=r.url&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${o}=${d||""}${v}; path=${u}; ${m};`}catch(o){return Promise.reject(o)}})()}deleteCookie(r){return(0,y.Z)(function*(){try{document.cookie=`${r.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}})()}clearCookies(){return(0,y.Z)(function*(){try{const r=document.cookie.split(";")||[];for(const o of r)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(r){return Promise.reject(r)}})()}clearAllCookies(){var r=this;return(0,y.Z)(function*(){try{yield r.clearCookies()}catch(o){return Promise.reject(o)}})()}}D("CapacitorCookies",{web:()=>new Y});const X=function(){var s=(0,y.Z)(function*(r){return new Promise((o,d)=>{const v=new FileReader;v.onload=()=>{const u=v.result;o(u.indexOf(",")>=0?u.split(",")[1]:u)},v.onerror=u=>d(u),v.readAsDataURL(r)})});return function(o){return s.apply(this,arguments)}}();class _ extends K{request(r){return(0,y.Z)(function*(){const o=((s,r={})=>{const o=Object.assign({method:s.method||"GET",headers:s.headers},r),v=((s={})=>{const r=Object.keys(s);return Object.keys(s).map(v=>v.toLocaleLowerCase()).reduce((v,u,m)=>(v[u]=s[r[m]],v),{})})(s.headers)["content-type"]||"";if("string"==typeof s.data)o.body=s.data;else if(v.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[m,g]of Object.entries(s.data||{}))u.set(m,g);o.body=u.toString()}else if(v.includes("multipart/form-data")||s.data instanceof FormData){const u=new FormData;if(s.data instanceof FormData)s.data.forEach((g,L)=>{u.append(L,g)});else for(const g of Object.keys(s.data))u.append(g,s.data[g]);o.body=u;const m=new Headers(o.headers);m.delete("content-type"),o.headers=m}else(v.includes("application/json")||"object"==typeof s.data)&&(o.body=JSON.stringify(s.data));return o})(r,r.webFetchExtra),d=((s,r=!0)=>s?Object.entries(s).reduce((d,v)=>{const[u,m]=v;let g,L;return Array.isArray(m)?(L="",m.forEach(C=>{g=r?encodeURIComponent(C):C,L+=`${u}=${g}&`}),L.slice(0,-1)):(g=r?encodeURIComponent(m):m,L=`${u}=${g}`),`${d}&${L}`},"").substr(1):null)(r.params,r.shouldEncodeUrlParams),v=d?`${r.url}?${d}`:r.url,u=yield fetch(v,o),m=u.headers.get("content-type")||"";let L,C,{responseType:g="text"}=u.ok?r:{};switch(m.includes("application/json")&&(g="json"),g){case"arraybuffer":case"blob":C=yield u.blob(),L=yield X(C);break;case"json":L=yield u.json();break;default:L=yield u.text()}const V={};return u.headers.forEach((B,z)=>{V[z]=B}),{data:L,headers:V,status:u.status,url:u.url}})()}get(r){var o=this;return(0,y.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"GET"}))})()}post(r){var o=this;return(0,y.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"POST"}))})()}put(r){var o=this;return(0,y.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"PUT"}))})()}patch(r){var o=this;return(0,y.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"PATCH"}))})()}delete(r){var o=this;return(0,y.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"DELETE"}))})()}}D("CapacitorHttp",{web:()=>new _})},198:(ue,G,S)=>{S.r(G),S.d(G,{CameraPageModule:()=>ee});var y=S(6814),$=S(95),O=S(1929),A=S(1147),q=S(5861),te=S(2726);S(5961);const Z=(0,te.fo)("Camera",{web:()=>S.e(6468).then(S.bind(S,6468)).then(e=>new e.CameraWeb)});var b=S(9212),re=S(7582),fe=S(5592),M=S(2438),D={error:"cordova_not_available"},ge={error:"plugin_not_installed"};function Q(e){if(typeof window<"u"&&window.angular){var i=window.document,t=window.angular.element(i.querySelector("[ng-app]")||i.body).injector();if(t)return t.get("$q")(function(c,l){e(c,l)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(c,l){e(c,l)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Y(e,n,i){var t,a,c;return"string"==typeof e?t=e:(t=e.constructor.getPluginRef(),i=e.constructor.getPluginName(),c=e.constructor.getPluginInstallName()),!(!(a=j(t))||n&&typeof a[n]>"u")||(typeof window>"u"||!window.cordova?(function s(e,n){typeof process>"u"&&console.warn(n?"Native: tried calling "+e+"."+n+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(i,n),D):(function he(e,n,i){console.warn(i?"Native: tried calling "+e+"."+i+", but the "+e+" plugin is not installed.":"Native: tried accessing the "+e+" plugin but it's not installed."),n&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+n+"'")}(i,c,n),ge))}function U(e,n,i,t,a,c){void 0===t&&(t={}),i=function X(e,n,i,t){if(void 0===n&&(n={}),n.sync)return e;if("reverse"===n.callbackOrder)e.unshift(t),e.unshift(i);else if("node"===n.callbackStyle)e.push(function(p,h){p?t(p):i(h)});else if("object"===n.callbackStyle&&n.successName&&n.errorName){var a={};a[n.successName]=i,a[n.errorName]=t,e.push(a)}else if(typeof n.successIndex<"u"||typeof n.errorIndex<"u"){var c=function(){n.successIndex>e.length?e[n.successIndex]=i:e.splice(n.successIndex,0,i)},l=function(){n.errorIndex>e.length?e[n.errorIndex]=t:e.splice(n.errorIndex,0,t)};n.successIndex>n.errorIndex?(l(),c()):(c(),l())}else e.push(i),e.push(t);return e}(i,t,a,c);var l=Y(e,n);if(!0===l){var p=j(e.constructor.getPluginRef());return p[n].apply(p,i)}return l}function j(e){return typeof window<"u"?_(window,e):null}function _(e,n){for(var i=n.split("."),t=e,a=0;a<i.length;a++){if(!t)return null;t=t[i[a]]}return t}var u=function(){function e(){}return e.installed=function(){return!0===Y(this.pluginRef)},e.getPlugin=function(){return typeof window<"u"?function d(e,n){for(var i=n.split("."),t=e,a=0;a<i.length;a++){if(!t)return null;t=t[i[a]]}return t}(window,this.pluginRef):null},e.getPluginName=function(){return this.pluginName},e.getPluginRef=function(){return this.pluginRef},e.getPluginInstallName=function(){return this.plugin},e.getSupportedPlatforms=function(){return this.platforms},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function m(e,n,i,t){return function(e,n,i){return void 0===i&&(i={}),function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return i.sync?U(e,n,t,i):i.observable?function J(e,n,i,t){return void 0===t&&(t={}),new fe.y(function(a){var c;return c=t.destruct?U(e,n,i,t,function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return a.next(l)},function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return a.error(l)}):U(e,n,i,t,a.next.bind(a),a.error.bind(a)),c&&c.error&&(a.error(c.error),a.complete()),function(){try{if(t.clearFunction)return t.clearWithArgs?U(e,t.clearFunction,i,t,a.next.bind(a),a.error.bind(a)):U(e,t.clearFunction,[])}catch(l){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),n),console.warn(l)}}})}(e,n,t,i):i.eventObservable&&i.event?function N(e,n){return n=typeof window<"u"&&n?_(window,n):n||(typeof window<"u"?window:{}),(0,M.R)(n,e)}(i.event,i.element):i.otherPromise?function ve(e,n,i,t){return void 0===t&&(t={}),Q(function(a,c){var l=U(e,n,i,t);l?l.error?c(l.error):l.then&&l.then(a).catch(c):c({error:"unexpected_error"})})}(e,n,t,i):function K(e,n,i,t){void 0===t&&(t={});var a,c,l=Q(function(p,h){a=t.destruct?U(e,n,i,t,function(){for(var w=[],f=0;f<arguments.length;f++)w[f]=arguments[f];return p(w)},function(){for(var w=[],f=0;f<arguments.length;f++)w[f]=arguments[f];return h(w)}):U(e,n,i,t,p,h),c=h});return a&&a.error&&(l.catch(function(){}),"function"==typeof c&&c(a.error)),l}(e,n,t,i)}}(e,n,i).apply(this,t)}!function ie(){if(typeof process>"u"){var e=typeof window<"u"?window:{},i=Date.now(),t=!1;e.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-i)+" ms"),t=!0}),setTimeout(function(){!t&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var z=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,re.ZT)(n,e),n.prototype.prepare=function(){return m(this,"prepare",{callbackStyle:"node"},arguments)},n.prototype.scan=function(){return m(this,"scan",{callbackStyle:"node",observable:!0,clearFunction:"cancelScan"},arguments)},n.prototype.show=function(){return m(this,"show",{},arguments)},n.prototype.hide=function(){return m(this,"hide",{},arguments)},n.prototype.enableLight=function(){return m(this,"enableLight",{callbackStyle:"node"},arguments)},n.prototype.destroy=function(){return m(this,"destroy",{},arguments)},n.prototype.disableLight=function(){return m(this,"disableLight",{callbackStyle:"node"},arguments)},n.prototype.useFrontCamera=function(){return m(this,"useFrontCamera",{callbackStyle:"node"},arguments)},n.prototype.useBackCamera=function(){return m(this,"useBackCamera",{callbackStyle:"node"},arguments)},n.prototype.useCamera=function(i){return m(this,"useCamera",{callbackStyle:"node"},arguments)},n.prototype.pausePreview=function(){return m(this,"pausePreview",{},arguments)},n.prototype.resumePreview=function(){return m(this,"resumePreview",{},arguments)},n.prototype.getStatus=function(){return m(this,"getStatus",{},arguments)},n.prototype.openSettings=function(){return m(this,"openSettings",{sync:!0},arguments)},n.pluginName="QRScanner",n.plugin="cordova-plugin-qrscanner",n.pluginRef="QRScanner",n.repo="https://github.com/bitpay/cordova-plugin-qrscanner",n.platforms=["Android","Browser","iOS","Windows"],n.decorators=[{type:b.GSi}],n}(u),oe=S(641);const ae=[{path:"",component:(()=>{var e;class n{constructor(t,a,c,l,p){this.qrScanner=t,this.activeroute=a,this.router=c,this.apiService=l,this.alertController=p,this.nombre="",this.boton=["Cerrar Sesi\xf3n"],this.activeroute.queryParams.subscribe(h=>{var w,f,P;null!==(w=this.router.getCurrentNavigation())&&void 0!==w&&w.extras.state&&(this.userHome=null===(f=this.router.getCurrentNavigation())||void 0===f||null===(f=f.extras.state)||void 0===f?void 0:f.user,this.idAlumno=null===(P=this.router.getCurrentNavigation())||void 0===P||null===(P=P.extras.state)||void 0===P?void 0:P.id)})}ngOnInit(){this.requestCameraPermission()}requestCameraPermission(){var t=this;return(0,q.Z)(function*(){"web"!==te.dV.getPlatform()&&("granted"!==(yield Z.checkPermissions()).camera&&(yield Z.requestPermissions()),t.startScanner())})()}startScanner(){var t=this;return(0,q.Z)(function*(){console.log("startScanner was called"),t.qrScanner.prepare().then(a=>{if(console.log("QRScanner prepared",a),a.authorized){let c=t.qrScanner.scan().subscribe(l=>{console.log("Scanned something",l);const[p,h,w]=l.split("-");t.registrarAsistencia(p,h,w),t.qrScanner.hide(),c.unsubscribe()});t.qrScanner.show(),console.log("QRScanner should be showing now")}else a.denied&&t.showSettingsAlert()}).catch(a=>console.log("Error:",a))})()}showSettingsAlert(){var t=this;return(0,q.Z)(function*(){yield(yield t.alertController.create({header:"Permiso de C\xe1mara",message:"Se necesita acceso a la c\xe1mara para escanear c\xf3digos QR. Por favor, habilite el acceso a la c\xe1mara en la configuraci\xf3n de su dispositivo.",buttons:["OK"]})).present()})()}registrarAsistencia(t,a,c){this.apiService.registrarAsistencia({alumno_id:this.idAlumno,codigo:t,seccion:a,fecha:c}).subscribe(p=>{console.log(p)})}}return(e=n).\u0275fac=function(t){return new(t||e)(b.Y36(z),b.Y36(A.gz),b.Y36(A.F0),b.Y36(oe.e),b.Y36(O.Br))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-camera"]],decls:9,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"]],template:function(t,a){1&t&&(b.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),b._uU(3,"Escanear QR"),b.qZA()()(),b.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),b._uU(8,"Escanear QR"),b.qZA()()()()),2&t&&(b.Q6J("translucent",!0),b.xp6(4),b.Q6J("fullscreen",!0))},dependencies:[O.W2,O.Gu,O.wd,O.sr],styles:[".image-container[_ngcontent-%COMP%]{background:url(https://d347bo4ltvvnaz.cloudfront.net/images/preview/Fuse_LifeOnMission_MarketingAssets_Social-Overlay_Transparent_3_preview.jpg) no-repeat center center fixed;position:relative;background-size:contain;background-position:center;height:100vh;width:auto;display:flex;align-items:flex-end;justify-content:center;padding-bottom:10vh}.overlay-button[_ngcontent-%COMP%]{position:relative;size:auto;margin:10 auto;display:flex}"]}),n})()}];let se=(()=>{var e;class n{}return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[A.Bz.forChild(ae),A.Bz]}),n})(),ee=(()=>{var e;class n{}return(e=n).\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({providers:[z],imports:[y.ez,$.u5,O.Pc,se]}),n})()}}]);